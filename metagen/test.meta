/* nested block comments
 * /* just work */
 */

// also line comments

@embed_file embedded_file "scratch/embed.txt"
@embed_string embedded_string
"""



asdf foo bar






working?



sadfjklsajdfoasufioejas;lkj







jkjnvmvcnhj





"""

@table os_key_table
(name val string)
{
	{ OS_Key_Null         0               "null"         }

	{ OS_Key_Z            90              "Z"            } // 'z'
	{ OS_Key_LBracket     91               "["           }
	{ OS_Key_Backslash    92              "\\"           }
	{ OS_Key_RBracket     93              "]"            }
	{ OS_Key_COUNT        94              "OS_Key count" }
}

@enum OS_Key
{
	@expand(os_key_table "% = %," name val)
	"OS_Key_LeftBracket = OS_Key_LBracket,"
	"OS_Key_RightBracket = OS_Key_RBracket,"
}

@array os_key_strings
(String8 "OS_Key_COUNT")
{
	@expand(os_key_table "[%] = str8_lit_comp(%)," name string)
}

@top @h_file @gen
{
	@expand(os_key_table "/*name: %, string: %*/" name string)
}

@embedded_strings @c_file @gen
{
	@expand(os_key_table "/*name: %, num: %*/" name val)
}

@struct TEST_Struct
{
	@expand(os_key_table "TEST_Struct *%;" name)
}
